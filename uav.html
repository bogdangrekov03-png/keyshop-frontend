<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>–ë–ø–õ–ê ‚Äì –ë–µ–∑–ø—ñ–ª–æ—Ç–Ω—ñ –ª—ñ—Ç–∞–ª—å–Ω—ñ –∞–ø–∞—Ä–∞—Ç–∏</title>

<style>
/* ================== –ì–û–õ–û–í–ù–Ü –ó–ú–Ü–ù–ù–Ü ================== */
:root {
    --bg-main: #000;
    --bg-card: #0d0d0f;
    --text-main: #ffffff;
    --text-muted: #b9b9b9;
    --border: rgba(255,255,255,0.15);
    --glow: 0 0 14px rgba(255,255,255,0.22);
}

/* ================== –ë–ê–ó–ê ================== */
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
    font-family: "Segoe UI", system-ui, sans-serif;
    background: #000;
    color: var(--text-main);
    overflow-x: hidden;
}

a { color: inherit; text-decoration: none; }

/* ================== HUD ================== */
.hud-nav {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    z-index: 50;
    background: rgba(0,0,0,0.7);
    backdrop-filter: blur(12px);
    border-bottom: 1px solid var(--border);
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 10px 14px;
}

/* –õ–û–ì–û –ë–õ–û–ö */
.hud-logo {
    display: flex;
    align-items: center;
    gap: 10px;
}

.hud-back {
    font-size: 20px;
    cursor: pointer;
    padding: 4px 10px;
}

.hud-emblem svg {
    width: 26px;
    opacity: 0.9;
}

.hud-logo-text {
    display: flex;
    flex-direction: column;
    line-height: 1.15;
}

.hud-logo-main {
    font-size: 15px;
    font-weight: 600;
    text-transform: uppercase;
}

.hud-logo-sub {
    font-size: 11px;
    color: var(--text-muted);
}

/* –ë–£–†–ì–ï–† */
.hud-burger {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    border: 1px solid var(--border);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
}
.hud-burger span,
.hud-burger::before,
.hud-burger::after {
    content: "";
    position: absolute;
    width: 18px;
    height: 2px;
    background: #fff;
    transition: 0.25s;
}
.hud-burger::before { transform: translateY(-6px); }
.hud-burger::after  { transform: translateY(6px); }
.hud-burger.active span { opacity: 0; }
.hud-burger.active::before { transform: rotate(45deg); }
.hud-burger.active::after  { transform: rotate(-45deg); }

/* ================== –ú–ï–ù–Æ ================== */
.hud-menu {
    position: fixed;
    top: 56px;
    right: 12px;
    width: 220px;
    z-index: 40;
    background: rgba(10,10,10,0.92);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 12px;
    backdrop-filter: blur(10px);
    box-shadow: var(--glow);
    opacity: 0;
    pointer-events: none;
    transform: translateY(-10px);
    transition: 0.25s ease;
}

.hud-menu.visible {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
}

.menu-group { margin-top: 10px; padding-top: 10px; border-top: 1px solid var(--border); }

.menu-group-title {
    font-size: 10px;
    color: var(--text-muted);
    margin-bottom: 6px;
    text-transform: uppercase;
}

.hud-menu ul { list-style: none; display: flex; flex-direction: column; gap: 6px; }

.hud-menu li button {
    width: 100%;
    background: rgba(30,30,30,0.8);
    border: 1px solid var(--border);
    color: #fff;
    border-radius: 10px;
    padding: 8px 12px;
    font-size: 13px;
    cursor: pointer;
    text-align: left;
    transition: 0.2s ease;
}
.hud-menu li button:hover {
    background: rgba(255,255,255,0.1);
}

/* ================== HERO ================== */
.hero {
    margin-top: 70px;
    padding: 40px 18px 10px;
    text-align: left;
}

.hero-badge {
    font-size: 11px;
    color: var(--text-muted);
    border: 1px solid var(--border);
    border-radius: 999px;
    display: inline-block;
    padding: 4px 10px;
    margin-bottom: 10px;
}

.hero-title {
    font-size: 26px;
    font-weight: 700;
    text-transform: uppercase;
    margin-bottom: 10px;
}

.hero-sub { color: var(--text-muted); font-size: 14px; max-width: 700px; }

/* ================== SEARCH ================== */
.search-box {
    position: relative;
    max-width: 420px;
    margin: 22px 0;
}

.search-box input {
    width: 100%;
    padding: 10px 44px 10px 16px;
    border-radius: 999px;
    background: rgba(25,25,25,0.9);
    border: 1px solid var(--border);
    color: var(--text-main);
    font-size: 14px;
    outline: none;
}

.search-icon {
    position: absolute;
    right: 14px;
    top: 9px;
    font-size: 18px;
    opacity: 0.8;
}

.search-dropdown {
    position: absolute;
    top: calc(100% + 6px);
    width: 100%;
    background: rgba(15,15,15,0.95);
    border: 1px solid var(--border);
    border-radius: 10px;
    display: none;
    z-index: 999;
}

.search-item {
    padding: 10px;
    border-bottom: 1px solid var(--border);
    font-size: 14px;
    cursor: pointer;
}

.search-item:hover { background: rgba(255,255,255,0.06); }

.no-results {
    text-align: center;
    padding: 8px;
    font-size: 13px;
    display: none;
    color: var(--text-muted);
}

/* ================== –ö–ê–†–¢–ö–ò ================== */
.page {
    padding: 10px 16px 40px;
    margin: auto;
    max-width: 1100px;
}

.cards-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    justify-content: center;
}

.weapon-card {
    width: 115px;
    background: var(--bg-card);
    border-radius: 12px;
    border: 1px solid var(--border);
    box-shadow: var(--glow);
    overflow: hidden;
    cursor: pointer;
    transition: 0.22s ease;
}
.weapon-card:hover {
    transform: scale(1.06);
}

.weapon-image {
    width: 100%;
    height: 105px;
    object-fit: cover;
}

.weapon-body { padding: 6px; text-align: center; }

.weapon-name {
    font-size: 11px;
    color: #fff;
    line-height: 1.25;
}

/* ================== –ú–û–î–ê–õ–ö–ê ================== */
.weapon-modal {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.85);
    backdrop-filter: blur(6px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9999;
}
.weapon-modal.hidden { opacity: 0; pointer-events: none; }

.weapon-modal-content {
    width: 92%;
    max-width: 520px;
    height: 82vh;
    background: #0d0d10;
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 14px;
    display: flex;
    flex-direction: column;
}

.modal-close {
    position: absolute;
    top: 10px;
    right: 12px;
    width: 30px;
    height: 30px;
    border: 1px solid var(--border);
    border-radius: 50%;
    cursor: pointer;
    background: rgba(20,20,20,0.9);
    color: #fff;
}

.modal-img-wrapper {
    height: 38vh;
    border-radius: 12px;
    border: 1px solid var(--border);
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
}

.modal-img { width: 100%; height: 100%; object-fit: contain; }

.modal-scroll {
    margin-top: 14px;
    overflow-y: auto;
    padding-right: 6px;
}

/* INFO BLOCK */
.info-block {
    background: rgba(20,20,20,0.6);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 14px;
    margin-bottom: 16px;
}

.info-block h3 {
    font-size: 14px;
    margin-bottom: 8px;
    text-transform: uppercase;
}

.info-block p, .info-block li {
    font-size: 14px;
    color: var(--text-main);
}

/* ================== FOOTER ================== */
footer {
    padding: 20px 0 40px;
    text-align: center;
    color: var(--text-muted);
    font-size: 13px;
}
</style>
</head>
<body>

<!-- ================== –ú–û–î–ê–õ–ö–ê ================== -->
<div id="weaponModal" class="weapon-modal hidden">
    <div class="weapon-modal-content">
        <button class="modal-close">‚úñ</button>
        <div class="modal-img-wrapper">
            <img id="modalImg" class="modal-img" />
        </div>
        <div class="modal-scroll">
            <h2 id="modalName"></h2>

            <div class="info-block">
                <h3>–û–ü–ò–°</h3>
                <p id="modalDesc"></p>
            </div>

            <div class="info-block">
                <h3>–•–ê–†–ê–ö–¢–ï–†–ò–°–¢–ò–ö–ò</h3>
                <ul id="modalSpecs"></ul>
            </div>
        </div>
    </div>
</div>

<!-- ================== HUD ================== -->
<div class="hud-nav">
    <div class="hud-logo">
        <span class="hud-back" onclick="window.location.href='index.html'">‚Üê</span>

        <div class="hud-emblem">
            <!-- –ú–∞–ª–∏–π –≥–µ—Ä–± –£–∫—Ä–∞—ó–Ω–∏ -->
            <svg viewBox="0 0 24 24" fill="#ffffff">
                <path d="M12 2l4 4v6l2 2v4l-6-3-6 3v-4l2-2V6l4-4z"/>
            </svg>
        </div>

        <div class="hud-logo-text">
            <div class="hud-logo-main">–ë–µ–∑–ø—ñ–ª–æ—Ç–Ω—ñ –ª—ñ—Ç–∞–ª—å–Ω—ñ –∞–ø–∞—Ä–∞—Ç–∏</div>
            <div class="hud-logo-sub">–ö–∞—Ç–µ–≥–æ—Ä—ñ—è –ø–æ—Ä—Ç–∞–ª—É</div>
        </div>
    </div>

    <div class="hud-burger" id="hudBurger"><span></span></div>
</div>

<!-- ================== –ú–ï–ù–Æ ================== -->
<div class="hud-menu" id="hudMenu">

    <div class="menu-group">
        <div class="menu-group-title">–û—Å–Ω–æ–≤–Ω–µ</div>
        <ul><li><button data-link="index.html">–ì–æ–ª–æ–≤–Ω–∞</button></li></ul>
    </div>

    <div class="menu-group">
        <div class="menu-group-title">–ö–∞—Ç–µ–≥–æ—Ä—ñ—ó –æ–∑–±—Ä–æ—î–Ω–Ω—è</div>
        <ul>
            <li><button data-link="ammo.html">–ë–æ—î–ø—Ä–∏–ø–∞—Å–∏</button></li>
            <li><button data-link="rockets.html">–†–∞–∫–µ—Ç–Ω—ñ –∫–æ–º–ø–ª–µ–∫—Å–∏</button></li>
            <li><button data-link="pvo.html">–ü–ü–û</button></li>
            <li><button data-link="uav.html">–ë–ø–õ–ê</button></li>
        </ul>
    </div>

    <div class="menu-group">
        <div class="menu-group-title">–î–æ–≤—ñ–¥–Ω–∏–∫</div>
        <ul>
            <li><button data-link="classification.html">–ö–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ü—ñ—è</button></li>
            <li><button data-link="calibers.html">–ö–∞–ª—ñ–±—Ä–∏</button></li>
        </ul>
    </div>

    <div class="menu-group">
        <div class="menu-group-title">–¢–∞–∫—Ç–∏–∫–∞</div>
        <ul><li><button data-link="tactics.html">–¢–∞–∫—Ç–∏—á–Ω–µ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è</button></li></ul>
    </div>

    <div class="menu-group">
        <div class="menu-group-title">–£–∫—Ä–∞—ó–Ω—Å—å–∫—ñ —Ä–æ–∑—Ä–æ–±–∫–∏</div>
        <ul><li><button data-link="ukraine-dev.html">–û–≥–ª—è–¥</button></li></ul>
    </div>

    <div class="menu-group">
        <div class="menu-group-title">–ë–µ–∑–ø–µ–∫–∞</div>
        <ul><li><button data-link="safety.html">–ü—Ä–∞–≤–∏–ª–∞ –±–µ–∑–ø–µ–∫–∏</button></li></ul>
    </div>

</div>

<!-- ================== HERO ================== -->
<section class="hero">
    <div class="hero-badge">‚Ä¢ –ö–∞—Ç–µ–≥–æ—Ä—ñ—è ‚Ä¢ –ë–ø–õ–ê ‚Ä¢</div>

    <h1 class="hero-title">–ë–µ–∑–ø—ñ–ª–æ—Ç–Ω—ñ –ª—ñ—Ç–∞–ª—å–Ω—ñ –∞–ø–∞—Ä–∞—Ç–∏</h1>

    <p class="hero-sub">
        –ë–µ–∑–ø—ñ–ª–æ—Ç–Ω—ñ –ª—ñ—Ç–∞–ª—å–Ω—ñ –∞–ø–∞—Ä–∞—Ç–∏ —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤: —Ä–æ–∑–≤—ñ–¥—É–≤–∞–ª—å–Ω—ñ, —É–¥–∞—Ä–Ω—ñ, –∫–æ—Ä–∏–≥—É–≤–∞–ª—å–Ω—ñ —Ç–∞ FPV,
        –ø—Ä–∏–∑–Ω–∞—á–µ–Ω—ñ –¥–ª—è –≤–µ–¥–µ–Ω–Ω—è —Å–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è, —Ü—ñ–ª–µ–≤–∫–∞–∑–∞–Ω–Ω—è, —É—Ä–∞–∂–µ–Ω–Ω—è —Ü—ñ–ª–µ–π —ñ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –¥—ñ–π
        –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª—ñ–≤ –Ω–∞ –ø–æ–ª—ñ –±–æ—é –≤ —Ä–µ–∂–∏–º—ñ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —á–∞—Å—É.
    </p>

    <div class="search-box">
        <input id="searchInput" type="text" placeholder="–ü–æ—à—É–∫ –ø–æ –Ω–∞–∑–≤—ñ –ë–ø–õ–ê..." />
        <div class="search-icon">üîç</div>
        <div id="searchDropdown" class="search-dropdown"></div>
        <div id="noResults" class="no-results">–ù—ñ—á–æ–≥–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ</div>
    </div>
</section>

<!-- ================== –ö–ê–†–¢–ö–ò ================== -->
<section class="page">
    <div id="weapons-grid" class="cards-grid"></div>
</section>

<!-- ================== FOOTER ================== -->
<footer>
    ¬© 2025 –ë–µ–∑–ø—ñ–ª–æ—Ç–Ω—ñ –ª—ñ—Ç–∞–ª—å–Ω—ñ –∞–ø–∞—Ä–∞—Ç–∏ ‚Ä¢ –ó–±—Ä–æ–π–Ω–∏–π –ø–æ—Ä—Ç–∞–ª
</footer>

<!-- ================== SCRIPT ================== -->
<script type="module">
/* ---------- HUD ---------- */
const burger = document.getElementById('hudBurger');
const menu = document.getElementById('hudMenu');

burger.addEventListener('click', () => {
    burger.classList.toggle('active');
    menu.classList.toggle('visible');
});

menu.querySelectorAll('button[data-link]').forEach(btn => {
    btn.addEventListener('click', () => {
        window.location.href = btn.dataset.link;
    });
});

/* ---------- FIREBASE ---------- */
import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
import {
    getFirestore, collection, getDocs, query, orderBy
} from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyDRSzMxpXUox4_pW4ruMX–ósXw1Kppi_P8Y",
  authDomain: "rooot-71962.firebaseapp.com",
  projectId: "rooot-71962",
  storageBucket: "rooot-71962.firebasestorage.app",
  messagingSenderId: "718921321052",
  appId: "1:718921321052:web:614928382d93d2b50eb499"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

const TYPE_FILTER = "uav";

const container = document.getElementById("weapons-grid");

function createCard(item) {
    const card = document.createElement("div");
    card.className = "weapon-card";
    card.innerHTML = `
        <img class="weapon-image" src="${item.img || ""}">
        <div class="weapon-body"><div class="weapon-name">${item.name}</div></div>
    `;
    card.addEventListener("click", () => openModal(item));
    return card;
}

async function loadWeapons() {
    const qW = query(collection(db, "weapons"), orderBy("name"));
    const snap = await getDocs(qW);
    const weapons = snap.docs.map(d => ({ id: d.id, ...d.data() }));

    const filtered = weapons.filter(w => (w.type || "").toLowerCase() === TYPE_FILTER);

    container.innerHTML = "";
    filtered.forEach(item => container.appendChild(createCard(item)));

    cacheCardsForSearch();
}

loadWeapons();

/* ---------- MODAL ---------- */
const modal = document.getElementById("weaponModal");
const modalImg = document.getElementById("modalImg");
const modalName = document.getElementById("modalName");
const modalDesc = document.getElementById("modalDesc");
const modalSpecs = document.getElementById("modalSpecs");

function openModal(item) {
    modalImg.src = item.img || "";
    modalName.textContent = item.name;
    modalDesc.textContent = item.desc || "";
    modalSpecs.innerHTML = "";

    if (Array.isArray(item.specs)) {
        item.specs.forEach(s => {
            const li = document.createElement("li");
            li.textContent = s;
            modalSpecs.appendChild(li);
        });
    }

    modal.classList.remove("hidden");
}

document.querySelector(".modal-close").addEventListener("click", () => {
    modal.classList.add("hidden");
});

modal.addEventListener("click", e => {
    if (e.target === modal) modal.classList.add("hidden");
});

/* ---------- SEARCH ---------- */
const searchInput = document.getElementById("searchInput");
const dropdown = document.getElementById("searchDropdown");
const noResults = document.getElementById("noResults");
let cachedCards = [];

function cacheCardsForSearch() {
    cachedCards = Array.from(document.querySelectorAll(".weapon-card")).map(card => ({
        element: card,
        name: card.querySelector(".weapon-name").innerText
    }));
}

searchInput.addEventListener("input", () => {
    const q = searchInput.value.toLowerCase().trim();
    dropdown.innerHTML = "";
    dropdown.style.display = "none";
    noResults.style.display = "none";

    if (!q) return;

    const results = cachedCards.filter(item => item.name.toLowerCase().includes(q));

    if (results.length === 0) {
        noResults.style.display = "block";
        return;
    }

    dropdown.style.display = "block";

    results.slice(0, 12).forEach(item => {
        const div = document.createElement("div");
        div.className = "search-item";

        div.innerHTML = item.name.replace(
            new RegExp(q, "gi"),
            m => `<mark>${m}</mark>`
        );

        div.addEventListener("click", () => {
            dropdown.style.display = "none";
            searchInput.value = item.name;
            item.element.scrollIntoView({ behavior: "smooth", block: "center" });
        });

        dropdown.appendChild(div);
    });
});
</script>
</body>
</html>
